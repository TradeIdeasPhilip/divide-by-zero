(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var s={};Object.defineProperty(s,"__esModule",{value:!0});s.permutations=s.polarToRectangular=z=s.makeBoundedLinear=S=s.makeLinear=s.sum=s.countMap=G=s.initializedArray=s.count=H=s.zip=s.FIGURE_SPACE=s.NON_BREAKING_SPACE=s.dateIsValid=s.MIN_DATE=s.MAX_DATE=s.makePromise=s.filterMap=ne=s.pick=s.pickAny=s.csvStringToArray=s.parseTimeT=s.parseIntX=s.parseFloatX=s.getAttribute=s.followPath=s.parseXml=s.testXml=s.sleep=R=s.assertClass=void 0;function he(t,e,n="Assertion Failed."){const i=r=>{throw new Error(`${n}  Expected type:  ${e.name}.  Found type:  ${r}.`)};if(t===null)i("null");else if(typeof t!="object")i(typeof t);else if(!(t instanceof e))i(t.constructor.name);else return t;throw new Error("wtf")}var R=s.assertClass=he;function fe(t){return new Promise(e=>setTimeout(e,t))}s.sleep=fe;function Q(t){const n=new DOMParser().parseFromString(t,"application/xml");for(const i of Array.from(n.querySelectorAll("parsererror")))if(i instanceof HTMLElement)return{error:i};return{parsed:n}}s.testXml=Q;function pe(t){if(t!==void 0)return Q(t)?.parsed?.documentElement}s.parseXml=pe;function J(t,...e){for(const n of e){if(t===void 0)return;if(typeof n=="number")t=t.children[n];else{const i=t.getElementsByTagName(n);if(i.length!=1)return;t=i[0]}}return t}s.followPath=J;function ge(t,e,...n){if(e=J(e,...n),e!==void 0&&e.hasAttribute(t))return e.getAttribute(t)??void 0}s.getAttribute=ge;function ee(t){if(t==null)return;const e=parseFloat(t);if(isFinite(e))return e}s.parseFloatX=ee;function te(t){const e=ee(t);if(e!==void 0)return e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||e!=Math.floor(e)?void 0:e}s.parseIntX=te;function ye(t){if(typeof t=="string"&&(t=te(t)),t!=null&&!(t<=0))return new Date(t*1e3)}s.parseTimeT=ye;const Ee=t=>{const e=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,n=[[]];let i;for(;i=e.exec(t);)i[1].length&&i[1]!==","&&n.push([]),n[n.length-1].push(i[2]!==void 0?i[2].replace(/""/g,'"'):i[3]);return n};s.csvStringToArray=Ee;function ve(t){const e=t.values().next();if(!e.done)return e.value}s.pickAny=ve;function we(t){return t[Math.random()*t.length|0]}var ne=s.pick=we;function Pe(t,e){const n=[];return t.forEach((i,r)=>{const o=e(i,r);o!==void 0&&n.push(o)}),n}s.filterMap=Pe;function Ae(){let t,e;return{promise:new Promise((i,r)=>{t=i,e=r}),resolve:t,reject:e}}s.makePromise=Ae;s.MAX_DATE=new Date(864e13);s.MIN_DATE=new Date(-864e13);function be(t){return isFinite(t.getTime())}s.dateIsValid=be;s.NON_BREAKING_SPACE=" ";s.FIGURE_SPACE=" ";function*Me(...t){const e=t.map(n=>n[Symbol.iterator]());for(;;){const n=e.map(i=>i.next());if(n.some(({done:i})=>i))break;yield n.map(({value:i})=>i)}}var H=s.zip=Me;function*Se(t=0,e=1/0,n=1){for(let i=t;i<e;i+=n)yield i}s.count=Se;function ie(t,e){const n=[];for(let i=0;i<t;i++)n.push(e(i));return n}var G=s.initializedArray=ie;s.countMap=ie;function Te(t){return t.reduce((e,n)=>e+n,0)}s.sum=Te;function Ce(t,e,n,i){const r=(i-e)/(n-t);return function(o){return(o-t)*r+e}}var S=s.makeLinear=Ce;function $e(t,e,n,i){n<t&&([t,e,n,i]=[n,i,t,e]);const r=(i-e)/(n-t);return function(o){return o<=t?e:o>=n?i:(o-t)*r+e}}var z=s.makeBoundedLinear=$e;function Ge(t,e){return{x:Math.sin(e)*t,y:Math.cos(e)*t}}s.polarToRectangular=Ge;function*re(t,e=[]){if(t.length==0)yield e;else for(let n=0;n<t.length;n++){const i=t[n],r=[...e,i],o=[...t.slice(0,n),...t.slice(n+1)];yield*re(o,r)}}s.permutations=re;var d={};Object.defineProperty(d,"__esModule",{value:!0});d.download=d.createElementFromHTML=d.getHashInfo=d.getAudioBalanceControl=d.getBlobFromCanvas=d.loadDateTimeLocal=l=d.getById=void 0;const oe=s;function Le(t,e){const n=document.getElementById(t);if(!n)throw new Error("Could not find element with id "+t+".  Expected type:  "+e.name);if(n instanceof e)return n;throw new Error("Element with id "+t+" has type "+n.constructor.name+".  Expected type:  "+e.name)}var l=d.getById=Le;function Ie(t,e,n="milliseconds"){let i;switch(n){case"minutes":{i=e.getSeconds()*1e3+e.getMilliseconds();break}case"seconds":{i=e.getMilliseconds();break}case"milliseconds":{i=0;break}default:throw new Error("wtf")}t.valueAsNumber=+e-e.getTimezoneOffset()*6e4-i}d.loadDateTimeLocal=Ie;function Ve(t){const{reject:e,resolve:n,promise:i}=(0,oe.makePromise)();return t.toBlob(r=>{r?n(r):e(new Error("blob is null!"))}),i}d.getBlobFromCanvas=Ve;function xe(t){const e=new AudioContext,n=e.createMediaElementSource(t),i=new StereoPannerNode(e,{pan:0});return n.connect(i).connect(e.destination),r=>{i.pan.value=r}}d.getAudioBalanceControl=xe;function ke(){const t=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(i=>{const r=i.split("=",2);if(r.length==2){const o=decodeURIComponent(r[0]),a=decodeURIComponent(r[1]);t.set(o,a)}}),t}d.getHashInfo=ke;function Ne(t,e){var n=document.createElement("div");return n.innerHTML=t.trim(),(0,oe.assertClass)(n.firstChild,e,"createElementFromHTML:")}d.createElementFromHTML=Ne;function Fe(t,e){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),document.createEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),n.dispatchEvent(i)}else n.click()}d.download=Fe;function se(t,e){const n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};{const o=(e.y-t.y)/(e.x-t.x);if(t.yPrime>o&&e.yPrime>o||t.yPrime<o&&e.yPrime<o)return n}const i=(t.x*t.yPrime-t.y-e.x*e.yPrime+e.y)/(t.yPrime-e.yPrime);if(!isFinite(i))return console.log({x:i,p1:t,p2:e}),n;const r=(i-t.x)*t.yPrime+t.y;return isFinite(r)?{x:i,y:r}:(console.log({y:r,x:i,p1:t,p2:e}),n)}window.quadraticControlPoint=se;function*De(t,e=2){if(e<1||(e|0)!=e)throw new Error("wtf");const n=[];for(const i of t)n.push(i),n.length==e&&(yield n,n.shift())}function He(t){let e="";for(const[n,i]of De(t)){e==""&&(e=`M ${n.x},${n.y}`);const r=se(n,i);e+=` Q ${r.x},${r.y} ${i.x},${i.y}`}return e}function ze({x0:t,frequencyMultiplier:e,yCenter:n,amplitude:i}){return{f(r){return Math.sin((r-t)*e)*i+n},fPrime(r){return Math.cos((r-t)*e)*i*e}}}function Re({left:t,right:e,frequencyMultiplier:n}){if(e<=t)return[];const i=10,r=(e-t)/(2*Math.PI)*n,o=Math.max(1,Math.round(r*i));return G(o+1,S(0,t,o,e))}function _e(t){const e=Re(t),n=ze(t);return e.map(r=>({x:r,y:n.f(r),yPrime:n.fPrime(r)}))}function X(t){return He(_e(t))}window.sineWavePath=X;const Be=l("zoomIn",SVGSVGElement),b=l("mouseListener",SVGRectElement),O=l("mousePointer",SVGGeometryElement),j=l("currentlyCenteredPointer",SVGGeometryElement),Xe=l("currentlyCenteredTranslate",SVGGElement),Oe=l("currentlyCenteredZoom",SVGGElement),K=l("zoomedInParabola",SVGPathElement);function We(){O.style.display=""}function ae(){O.style.display="none"}["mouseenter","mousemove","mousedown"].forEach(t=>b.addEventListener(t,()=>{We()}));b.addEventListener("mouseleave",()=>{ae()});function ce({screenX:t,screenY:e}){const n=Be.createSVGPoint();n.x=t,n.y=e;const i=n.matrixTransform(b.getScreenCTM().inverse()),r=2-i.x*i.x;return{x:i.x,y:r}}function le(t,{x:e,y:n}){const i=-2*e,r=Math.atan(i)/Math.PI*180;t.setAttribute("transform",`translate(${e}, ${n}) rotate(${r})`)}["mousemove","mouseenter"].forEach(t=>b.addEventListener(t,e=>{le(O,ce(e))}));class A{static centerX=0;static centerY=0;static ratio=1;static#e;static animationIsRunning(){return this.#e!==void 0}static#t=!1;static#n=l("zoomText",SVGGElement);static#i=R(this.#n.firstElementChild,SVGTextElement);static startAnimation(){this.animationIsRunning()||this.restartAnimation()}static restartAnimation(e=0){const n=performance.now()+e,i=z(n,0,n+1e4,Math.log(300)),r=z(n+1e3,0,n+1e4,.75),o=n+15e3;this.#e=a=>{if(a>o){const c=(Math.random()+Math.random())/2*5-2.5,u=2-c*c;this.selectNewTarget({x:c,y:u}),this.restartAnimation(500)}else{const c=Math.exp(i(a));this.setNewZoom(c);const u=r(a);j.style.opacity=u.toString()}},ae(),this.setNewZoom(1),this.#t||(this.#t=!0,requestAnimationFrame(this.onAnimationFrame))}static stopAnimation(){this.#e=void 0,this.setNewZoom(1)}static onAnimationFrame(e){requestAnimationFrame(A.onAnimationFrame),A.#e?.(e)}static updateGUI(){K.setAttribute("transform",`scale(${this.ratio}) translate(${-this.centerX}, ${-this.centerY})`),Xe.setAttribute("transform",`translate(${this.centerX}, ${this.centerY})`),Oe.setAttribute("transform",`scale(${1/this.ratio})`),le(j,{x:this.centerX,y:this.centerY});const e=(.15/this.ratio).toString();K.setAttribute("stroke-width",e),this.#i.textContent=`${this.ratio<10?Math.round(this.ratio*10)/10:Math.round(this.ratio)}⨉`}static selectNewTarget({x:e,y:n}){this.centerX=e,this.centerY=n,this.ratio=1,this.updateGUI()}static setNewZoom(e){this.ratio=e,this.updateGUI()}}function Ye(t){b.style.cursor=t.buttons?"zoom-in":"ew-resize"}["mouseup","mousedown","mouseenter"].forEach(t=>{b.addEventListener(t,Ye)});["mouseenter","mousemove","mousedown"].forEach(t=>{b.addEventListener(t,e=>{e.buttons&&A.selectNewTarget(ce(e))})});b.addEventListener("mouseleave",()=>{A.startAnimation()});["mouseenter","mouseup","mousedown"].forEach(t=>{b.addEventListener(t,e=>{e.buttons==0?A.startAnimation():A.stopAnimation()})});A.selectNewTarget({x:0,y:2});A.startAnimation();class D{constructor(e,n){this.parent=e,this.type=n;let i;for(const r of e.children)if(r instanceof n){i=r;break}if(!i)throw new Error("wtf");i.remove(),this.#e=i}#e;create(){return R(this.#e.cloneNode(!0),this.type)}createParented(){return this.parent.appendChild(this.create())}}class _{constructor(e,n,i,r=6/e){this.numberOfSegments=e;const o=n===void 0?void 0:l(n,SVGGElement),a=l(i,SVGGElement);if(o){{const c=new D(o,SVGCircleElement);this.#e=G(e+1,()=>c.createParented())}{const c=new D(o,SVGLineElement);this.#t=G(e,()=>c.createParented())}}else this.#e=[],this.#t=[];{const c=new D(a,SVGCircleElement),u=new D(a,SVGLineElement);this.#n=G(e,()=>{const p=u.createParented(),g=c.createParented(),E=c.createParented();return{start:g,middle:p,end:E}})}this.resize(r)}#e;#t;#n;resize(e){const n=this.numberOfSegments+1,i=this.numberOfSegments/2,r=G(n,a=>{const c=(a-i)*e,u=c*c/2;return{x:c,y:u}});for(const[a,c]of H(r,this.#e))c.cx.baseVal.value=a.x,c.cy.baseVal.value=a.y;const o=G(r.length-1,a=>({first:r[a],second:r[a+1]}));for(const[{first:a,second:c},u]of H(o,this.#t))u.x1.baseVal.value=a.x,u.y1.baseVal.value=a.y,u.x2.baseVal.value=c.x,u.y2.baseVal.value=c.y;for(const[{first:a,second:c},{start:u,middle:p,end:g}]of H(o,this.#n)){const M=(c.y-a.y)/(c.x-a.x)/2;u.cx.baseVal.value=p.x1.baseVal.value=a.x,u.cy.baseVal.value=p.y1.baseVal.value=M,g.cx.baseVal.value=p.x2.baseVal.value=c.x,g.cy.baseVal.value=p.y2.baseVal.value=M}}}class V{constructor(e){this.toDo=e,this.callback=this.callback.bind(this),this.callback(performance.now())}#e=!1;cancel(){this.#e=!0}callback(e){this.#e||(requestAnimationFrame(this.callback),this.toDo(e))}}function W(t,e,n,i){n<t&&([t,e,n,i]=[n,i,t,e]);const r=S(t,0,n,Math.PI),o=S(1,e,-1,i);return function(a){return a<=t?e:a>=n?i:o(Math.cos(r(a)))}}new _(6,"sampleParabola","sampleDerivative",1);{const n=W(0,1,2e3,.5),i=new _(24,"animatedParabola1","animatedDerivative1");new V(r=>{const o=r%4897;i.resize(n(o))})}{const n=W(0,.5,2e3,.25),i=new _(24,"animatedParabola2","animatedDerivative2");new V(r=>{const o=r%5e3;i.resize(n(o))})}{const n=W(0,1,5e3,.125),i=new _(48,void 0,"animatedDerivative3");new V(r=>{const o=r%7e3;i.resize(n(o))})}class Ue{static#e=l("tangentLine",SVGGElement);static setPosition(e){const n=2-e*e,i=-2*e,r=Math.atan(i)/Math.PI*180;this.#e.setAttribute("transform",`translate(${e}, ${n}) rotate(${r})`)}static setRelativePosition(e){this.setPosition(e*2.25)}}new V(t=>Ue.setRelativePosition(Math.sin(t/2200)));{const t=l("anyNumber",HTMLSpanElement),e=[".000001",".999997",".3125",".3̅",".16̅",".1̅4̅2̅8̅5̅7̅",".0̅9̅"," ½"," ¼"," ¾"," ⅐"," ⅑"," ⅒"," ⅓"," ⅔"," ⅕"," ⅖"," ⅗"," ⅘"," ⅙"," ⅚"," ⅛"," ⅜"," ⅝"," ⅞"];let n=1001,i="";setInterval(()=>{n++,Math.random()>.75&&(Math.random()<.9?i="":i=ne(e)),t.innerText=n.toLocaleString()+i},1500)}Array.from(document.querySelectorAll("a:not([href])[id]")).forEach(t=>{const e=R(t,HTMLAnchorElement);e.innerText!=""&&(e.classList.add("self-link"),e.href="#"+e.id)});class T{element;static DEFAULT_LENGTH=10;static STROKE_WIDTH=1.6;#e;#t=!0;constructor(e=T.DEFAULT_LENGTH){this.element=document.createElementNS("http://www.w3.org/2000/svg","polygon"),this.#e=e,this.redraw(),this.element.setAttribute("stroke-width","0.25"),this.element.setAttribute("stroke-miterlimit","10")}redraw(){const e=this.#e,n=this.#t?0:e;if(!isFinite(e)){this.element.setAttribute("points","");return}const i=6,r=Math.sign(e)*Math.min(1,Math.abs(e)/i);this.element.setAttribute("points",`0,${0-n} 2.4,${r*6-n} 0.6,${r*4.4-n} 0.6,${e-n} -0.6,${e-n} -0.6,${r*4.4-n} -2.4,${r*6-n} 0,${0-n}`)}get length(){return this.#e}set length(e){this.#e=e,this.redraw()}get originAtHead(){return this.#t}set originAtHead(e){this.#t=e,this.redraw()}get originAtTail(){return!this.originAtHead}set originAtTail(e){this.originAtHead=!e}}{let t=function(v){const h=v/1e3,m=Math.sin(h),C=Math.cos(h),I=-Math.sin(h),B={functionX:h,position:m,velocity:C,acceleration:I};e.updateDisplay(B);{const f=m/2,w=f*70+50,y=Math.asin(f);l("pendulum",SVGGElement).setAttribute("transform",`rotate(${-y/Math.PI*180})`);const x=Math.cos(y)*70+10,P=l("offsetHorizontal",SVGLineElement);P.x1.baseVal.value=P.x2.baseVal.value=w,P.y1.baseVal.value=x,i.length=f*70,r.element.setAttribute("transform",`translate(${w},${x}) rotate(90)`),r.length=C*35,o.element.setAttribute("transform",`translate(${w},${x-10+T.STROKE_WIDTH/2}) rotate(90)`),o.length=I*35}a.forEach(({path:f,offset:w})=>{const y={left:-4,amplitude:-1,yCenter:0,right:4,x0:-h-w,frequencyMultiplier:1},$=X(y);f.setAttribute("d",$)});{const f=M(-m),w=ue(-m),y=me(-m);let $=`M 50,${k}`;for(let Z=0;Z<N;Z++)$+=` a ${y},${f},180,0,0,0,${2*f}`,$+=` a ${y},${w},180,0,0,0,${-2*w}`;$+=` a ${y},${f},180,0,0,${-y},${f} h ${y} v ${F}`,c.setAttribute("d",$);const x=k+N*2*(f-w)+f+F;u.cy.baseVal.value=x;const P=(q-U)/2,de={left:-3.25*P,amplitude:-1*P,yCenter:(q+U)/2,right:3.25*P,x0:-h*P,frequencyMultiplier:1/P};p.setAttribute("d",X(de))}};class e{constructor(){throw new Error("wtf")}static#e=Array.from(l("electron",SVGGElement).querySelectorAll("circle"));static#t=l("electricCurrentArrow",SVGPolygonElement);static#n=this.#t.getAttribute("transform");static#i=S(-1,85,1,215);static updateDisplay({functionX:h,velocity:m}){this.#e.forEach((C,I)=>{const B=this.#i(Math.sin(h-.1*I));C.cx.baseVal.value=B}),this.#t.setAttribute("transform",`${this.#n} scale(${m} 1)`)}}const n=l("pendulumContainer",SVGSVGElement),i=new T;i.originAtTail=!0,n.appendChild(i.element),i.element.setAttribute("fill","red"),i.element.setAttribute("transform","translate(50,90) rotate(90)");const r=new T;r.originAtTail=!0,n.appendChild(r.element),r.element.setAttribute("fill","violet"),r.element.setAttribute("transform","translate(50,80) rotate(90)");const o=new T;o.originAtTail=!0,n.appendChild(o.element),o.element.setAttribute("fill","blue"),o.element.setAttribute("transform","translate(50,80) rotate(90)");{const v=n.querySelectorAll("text");if(v.length!=3)throw new Error("wtf");const[h,m,C]=v,I=(h.getBBox().width-C.getBBox().width)/2;m.setAttribute("transform",`translate(${50+I},98)`)}const a=[["red",0],["magenta",Math.PI/2],["blue",Math.PI]].map(([v,h])=>{const m=document.createElementNS("http://www.w3.org/2000/svg","path");return l("threeSineWaves",SVGGElement).appendChild(m),m.style.strokeWidth="0.056",m.style.fill="none",m.style.stroke=v,{path:m,offset:h}}),c=l("springPath",SVGPathElement),u=l("springWeight",SVGCircleElement),p=l("springSineWave",SVGPathElement),g=10,E=15,M=S(-1,g,1,E),L=7.5,Y=10,ue=S(-1,L,1,Y),me=S(-1,22,1,18),k=-17,N=7,F=21,U=k+N*2*(g-L)+g+F,q=k+N*2*(E-Y)+E+F;new V(v=>{t(v)})}class qe{static f(e){return .5*e+.5*Math.sin(e)+.25*Math.sin(2.3*e+.7)+.05*Math.cos(5.11*e-.2)}static fPrime(e){return .5+.5*Math.cos(e)+2.3*.25*Math.cos(2.3*e+.7)+5.11*.05*-Math.sin(5.11*e-.2)}static#e=l("deadReckoningEstimate",SVGPolylineElement);static#t=l("deadReckoningPointers",SVGGElement);static WIDTH=8.2;static update(e){this.#t.innerHTML="";const n=Math.ceil(1/e),i=this.WIDTH*e;let r="",o=this.f(0);for(let a=0;a<=n;a++){const c=i*a;r+=` ${c}, ${o}`;const u=this.fPrime(c),p=i*u,g=this.f(c),E=Math.atan(u)/Math.PI*180,M=new T;this.#t.appendChild(M.element),M.element.setAttribute("transform",`translate(${c} ${g}) scale(0.05) rotate(${E+180})`);const L=new T;this.#t.appendChild(L.element),L.element.setAttribute("transform",`translate(${c} ${o}) scale(0.05) rotate(${E})`),a%2&&(M.element.style.opacity=L.element.style.opacity="0.333"),o+=p}this.#e.setAttribute("points",r)}static startDemo(){const o=z(500,.4,20500,.025);new V(a=>{const c=a%22e3,u=o(c);this.update(u)})}}qe.startDemo();
